<div class="orders">
    <div class="row">
        <div class="col-xl-12">
            <div class="card">
                <div class="card-body">
                    <h4 class="box-title">{{ Title }} </h4>
                </div>
                <div class="card-body">
                    <h4 class="box-title">Thay đổi trạng thái</h4>
                    <select class="form-select" [(ngModel)]="selectedStatus">
                      <option value="" disabled selected>{{ status.order_status}} </option>
                      <!-- <option value="Chưa xác nhận">Chưa xác nhận</option>
                      <option value="Đã xác nhận">Đã xác nhận</option>
                      <option value="Đang vận chuyển">Đang vận chuyển</option>
                      <option value="Đã giao">Đã giao</option> -->
                      <ng-container *ngFor="let option of statusOptions">
                        <option *ngIf="option !== currentStatus" [value]="option">{{ option }}</option>
                      </ng-container>
                    </select>
                    <br>
                    <button class="btn btn-primary" (click)="submitStatusUpdate()">Lưu</button>
                </div>
                  
                <div class="card-body--">
                    <div class="table-stats order-table ov-h">
                        <table class="table ">
                            <thead>
                                <tr>
                                    <th>STT</th>
                                    <th>Tên khách hàng </th>
                                    <th>Tên sản phẩm </th>
                                    <th>Ảnh </th>
                                    <th>Số lượng </th>
                                    <th>Ngày đặt</th>
                                    <th>Địa chỉ nhận hàng</th>
                                    <th>Tổng tiền</th>
                                    <!-- <th>Chức năng</th> -->
                                   
                                </tr>
                            </thead>
                            <tbody>
                                
                                <tr  class=" pb-0" *ngFor="let all of details | paginate: { itemsPerPage: 5, currentPage: p } ; let i=index" >
                                    <td class="serial">{{ i+1 }}</td>
                                    <td> {{ all.customer_name }} </td>
                                    <td> <span class="fragrance_family">{{ all.product_name }}</span> </td>
                                    <td> <img [src]="getProductImageUrl(all.product_image)" alt="{{ all.product_image}}" > </td>
                                    <td> {{ all.total_quantity}} </td>
                                    <td> {{ all.order_date | date:'dd/MM/yyyy'}} </td>
                                    <td> {{ all.shipAddress}} </td>
                                    <td> <span class="fragrance_family">{{ all.total_orders | number:'1.0-0' }}vnd</span> </td>
                                    <!-- <td>
                                        <span>
                                            <button type="button" class="btn btn-success" (click)="confirmOrder(all.id, i)" *ngIf="all.order_status !== 'Đã xác nhận'">Xác nhận</button>
                                            <button type="button" class="btn btn-danger" (click)="cancelConfirmation(all.id, i)" *ngIf="all.order_status === 'Đã xác nhận'">Hủy xác nhận</button>
                                        </span>

                                    </td> -->
                                </tr>
                                
                               
                            </tbody>
                            <tfoot>
                                <td>
                                    <span>
                                        <a routerLink="/admin/order">
                                            <button type="button" class="btn btn-secondary btn-sm">Quay lại</button>
                                        </a>
                                        
                                    </span>
                                </td>

                                <tr>
                                    <td colspan="12">
                                        <pagination-controls ></pagination-controls>
                                    </td>
                                    
                                </tr>
                                
                               
                            </tfoot>
                        </table>
                        
                        
                    </div> <!-- /.table-stats -->
                </div>
            </div> <!-- /.card -->
        </div>  <!-- /.col-lg-8 -->

        
    </div>
</div>
